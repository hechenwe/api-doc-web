<!DOCTYPE html>
<html lang="ch">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
<link rel="icon" href="../images/I.png"  type="image/x-icon">
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
<script src="http://cdn.static.runoob.com/libs/jquery/1.10.2/jquery.min.js" type="text/javascript" charset="utf-8"></script>
<title>编辑接口文档</title>  
 <style type="text/css">
html, body {
	overflow-x: hidden; /* Prevent scroll on narrow devices */
}

body {
	padding-top: 70px;
}

footer {
	padding: 30px 0;
}

/*
 * Off Canvas
 * --------------------------------------------------
 */
@media screen and (max-width: 767px) {
	.row-offcanvas {
		position: relative;
		-webkit-transition: all .25s ease-out;
		-o-transition: all .25s ease-out;
		transition: all .25s ease-out;
	}
	.row-offcanvas-right {
		right: 0;
	}
	.row-offcanvas-left {
		left: 0;
	}
	.row-offcanvas-right
  .sidebar-offcanvas {
		right: -50%; /* 6 columns */
	}
	.row-offcanvas-left
  .sidebar-offcanvas {
		left: -50%; /* 6 columns */
	}
	.row-offcanvas-right.active {
		right: 50%; /* 6 columns */
	}
	.row-offcanvas-left.active {
		left: 50%; /* 6 columns */
	}
	.sidebar-offcanvas {
		position: absolute;
		top: 0;
		width: 50%; /* 6 columns */
	}
}
</style>

</head>

<body>
	<nav class="navbar navbar-fixed-top navbar-inverse">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">SoftDesign</a>
			</div>
			<div id="navbar" class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li><a href="index.html">首页</a></li>
					<li><a href="#about">产品设计</a></li>
					<li><a href="#about">需求分析</a></li>
					<li><a href="#about">概要设计</a></li>
					<li><a href="#about">详细设计</a></li>
					<li class="active"><a href="api-doc-list.html">接口文档</a></li>
					<li><a   href="test.html">测试</a></li>
				</ul>

				<!-- <form class="navbar-form navbar-left">
					<div class="form-group">
						<input id="interfacNumber" type="text" class="form-control" placeholder="接口号">
					</div>
					<button type="button" class="btn btn-default" onclick="getInterfacByInterfacNumber();">搜索</button>
				</form> -->
			</div>
		</div>
	</nav>
		
		<div class="col-lg-12">
		<div   class="col-lg-12"></div>
		<div  class="col-lg-12">
						<div class="panel-body">
							<div class="row">
								<div class="col-lg-12">
									<form role="form">
										<input type="hidden" id="moduleId" class="form-control">
										<div class="form-group">
											<label>URL:</label> <textarea id="url_fist" class="form-control"></textarea>
											<p class="help-block"></p>
										</div>
									 
										<div class="form-group">
											<label>请求方式</label> <label class="radio-inline"> <input type="radio" name="request_type" value="POST" checked>POST
											</label> <label class="radio-inline"> <input type="radio" name="request_type" value="GET">GET
											</label>

										</div>
										<div class="form-group">
											<a onclick="addParameters();">添加参数</a>

											<div class="table-responsive">
												<table style="display:none" id = "table" class="table table-striped table-bordered table-hover">
													<thead>
														<tr>
															<th width="45%">key</th>
															<th width="45%">value</th>
															<th width="10%">操作</th>
														</tr>
													</thead>
													<tbody id="tbody">
													</tbody>
												</table>
											</div>
											
										</div>
										<div class="form-group">
											<button type="button" onclick="go();" class="btn btn-primary">提交请求</button>
										</div>
										<div class="form-group">
											<label>返回结果</label>
											<div style="border: 1px solid #E4E1E1;  height:400px; width: 100%;">
											<iframe frameborder="0" border="0" ; marginwidth="0" marginheight="0" style="width: 100%; height: 400px" id="id_iframe" name="id_iframe"></iframe>
											</div>
											<p class="help-block"></p>
										</div>

									</form>
									<form id="form" target="id_iframe" enctype='application/json'></form>
								</div>
							</div>
						 
					</div>
				 
		</div>
		</div>
	 
	 
	<script type="text/javascript">
		//-----------------------------------------调试接口---------------------------------------------------------------
		var n = 0;
        //添加参数
		function addParameters() {
        	 $("#table").removeAttr("style");
        	
			var tr = '<tr id = "tr'+n+'"><td><input class="form-control" style="width:100%" type="text" id="" value=""></input></td><td><input class="form-control"  style="width:100%" type="text" id="" value=""></input></td><td><a onclick="delete_tr(' + n + ')">删除</a></td></tr>';
			$("#tbody").append(tr);
			n = n + 1;
		}
        //删除次数
		function delete_tr(n) {
			$("#tr" + n).remove();
		}
        //提交请求
		function go() {
			var url = $("#url_fist").val();
			var request_type = $('input[name="request_type"]:checked').val();
			$("#form").attr("action", url).attr("method", request_type);
			$("#form").empty();
			$("#tbody tr").each(function(index) {
				var name = $(this).children().eq(0).children().first().val();
				var value = $(this).children().eq(1).children().first().val()
				var input = '<input  type="hidden"  name="'+ name +'" value="'+ value +'">';
				$("#form").append(input);
			});
            if(url!=""){
			$("#form").submit();
            	
            }
		}
	</script>
</body>
</html>